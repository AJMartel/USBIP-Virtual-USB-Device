CC=i686-w64-mingw32-gcc
CFLAGS= -Wall -O5 -Wno-overflow
PROGS= hid-mouse hid-keyboard cdc

all:	${PROGS}

hid-mouse:	usbip.c hid-mouse.c 
		${CC} ${CFLAGS} usbip.c -c 
		${CC} ${CFLAGS} usbip.o hid-mouse.c -o hid-mouse.exe -lws2_32 

hid-keyboard:	usbip.c hid-keyboard.c 
		${CC} ${CFLAGS} usbip.c -c 
		${CC} ${CFLAGS} usbip.o hid-keyboard.c -o hid-keyboard.exe -lws2_32 

cdc:	usbip.c cdc.c 
		${CC} ${CFLAGS} usbip.c -c 
		${CC} ${CFLAGS} usbip.o cdc.c -o cdc.exe -lws2_32 

clean:
		rm -f ${PROGS} core core.* *.o temp.* *.out typescript* *.exe
